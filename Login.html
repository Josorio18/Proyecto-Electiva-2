<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Iniciar sesión</title>
	<link rel="stylesheet" href="CSS/Decoracion.css">
	<style>
		/* Minimal form styles */
		body{
            font-family:Arial,Helvetica,sans-serif;background:#f5f5f5;display:flex;align-items:center;justify-content:center;height:100vh;margin:0
        }
		.card{
            background:#fff;padding:24px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,.08);width:320px}
		h1{
            margin:0 0 16px 0;font-size:20px;text-align:center}
		label{
            display:block;font-size:14px;margin-top:8px}
		input[
            type="email"],input[type="password"]{width:100%;padding:10px;margin-top:6px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}
		.row{
            display:flex;align-items:center;justify-content:space-between;margin-top:12px}
		.error{
            color:#b00020;font-size:13px;margin-top:6px;display:none}
		button{
            width:100%;padding:10px;margin-top:14px;background:#0078d4;color:#fff;border:none;border-radius:4px;cursor:pointer}
		a.small{
            font-size:13px;color:#0078d4;text-decoration:none}
	</style>
</head>
<body>
	<main class="card" role="main">
		<h1>Iniciar sesión</h1>
		<form id="loginForm" novalidate>
			<label for="email">Correo electrónico</label>
			<input id="email" name="email" type="email" placeholder="usuario@ejemplo.com" required>
			<div id="emailError" class="error">Ingresa un correo válido.</div>

			<label for="password">Contraseña</label>
			<input id="password" name="password" type="password" placeholder="Contraseña" required>
			<div id="passError" class="error">La contraseña es obligatoria.</div>

			<div class="row">
				<label><input id="remember" name="remember" type="checkbox"> Recuérdame</label>
				<a class="small" href="index.html">Volver</a>
			</div>

			<button type="submit">Entrar</button>
		</form>
	</main>

	<script>
		(function(){
			const form = document.getElementById('loginForm');
			const email = document.getElementById('email');
			const password = document.getElementById('password');
			const emailError = document.getElementById('emailError');
			const passError = document.getElementById('passError');

			function validarEmail(e){
				const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
				return re.test(e);
			}

			form.addEventListener('submit', function(ev){
				ev.preventDefault();
				let ok = true;
				emailError.style.display = 'none';
				passError.style.display = 'none';

				if(!validarEmail(email.value.trim())){
					emailError.style.display = 'block';
					ok = false;
				}
				if(password.value.trim().length === 0){
					passError.style.display = 'block';
					ok = false;
				}

				if(!ok) return;

				// Simulación de login: guardar usuario en localStorage y redirigir
				if(document.getElementById('remember').checked){
					localStorage.setItem('user', email.value.trim());
				} else {
					sessionStorage.setItem('user', email.value.trim());
				}

				// Mostrar breve confirmación y redirigir a la página principal
				const btn = form.querySelector('button[type="submit"]');
				btn.textContent = 'Entrando...';
				btn.disabled = true;
				setTimeout(()=> window.location.href = 'index.html', 700);
			});
		})();
	</script>
</body>
</html>
